<?xml version="1.0"?>
<doc>
    <assembly>
        <name>Server</name>
    </assembly>
    <members>
        <member name="T:Server.ClientManager2">
            <summary>
            Управляет всеми подключёнными клиентами.
            </summary>
        </member>
        <member name="F:Server.ClientManager2._clients">
            <summary>
            Все клиенты у которых есть хотя бы один открытый веб сокет
            </summary>
        </member>
        <member name="M:Server.ClientManager2.#ctor">
            <summary>
            Конструктор и запуск фоновой задачи.
            </summary>
        </member>
        <member name="M:Server.ClientManager2.AddSocket(System.String,System.Net.WebSockets.WebSocket)">
            <summary>
            Добавляет WebSocket клиенту.
            </summary>
        </member>
        <member name="M:Server.ClientManager2.RemoveSocket(System.String,System.Net.WebSockets.WebSocket)">
            <summary>
            Удаляет WebSocket клиента.
            </summary>
        </member>
        <member name="M:Server.ClientManager2.HandleClientMessage(System.String,System.String)">
            <summary>
            Обрабатывает сообщение от клиента.
            </summary>
        </member>
        <member name="M:Server.ClientManager2.GetAllClients">
            <summary>
            Возвращает всех клиентов.
            </summary>
        </member>
        <member name="T:Server.ConnectedClient">
            <summary>
            Хранит список WebSocket-соединений одного клиента.
            </summary>
        </member>
        <member name="M:Server.ConnectedClient.#ctor(System.String)">
            <summary>
            Хранит список WebSocket-соединений одного клиента.
            </summary>
        </member>
        <member name="F:Server.ConnectedClient._socket">
            <summary>
            Потокобезопасный список WebSocket-соединений.
            </summary>
        </member>
        <member name="M:Server.ConnectedClient.AddSocket(System.Net.WebSockets.WebSocket)">
            <summary>
            Добавляет WebSocket.
            </summary>
        </member>
        <member name="M:Server.ConnectedClient.RemoveSocket(System.Net.WebSockets.WebSocket)">
            <summary>
            Удаляет WebSocket.
            </summary>
        </member>
        <member name="M:Server.ConnectedClient.GetSockets">
            <summary>
            Возвращает все активные WebSocket'ы клиента.
            </summary>
        </member>
        <member name="T:Server.Extensions.BsonDocumentExtension">
            <summary>
            Содержит расширения для работы с объектами <see cref="T:MongoDB.Bson.BsonDocument"/>.
            </summary>
        </member>
        <member name="M:Server.Extensions.BsonDocumentExtension.ConvertStringToUuid(MongoDB.Bson.BsonDocument,System.String)">
            <summary>
            Преобразует строковое значение в поле документа в UUID-тип <see cref="T:MongoDB.Bson.BsonBinaryData"/>
            с подтипом <see cref="F:MongoDB.Bson.BsonBinarySubType.UuidStandard"/>, если это возможно.
            </summary>
            <param name="document">Документ <see cref="T:MongoDB.Bson.BsonDocument"/>.</param>
            <param name="fieldName">Имя поля, содержащего строковое значение.</param>
        </member>
        <member name="M:Server.Extensions.BsonDocumentExtension.ConvertUuidFields(MongoDB.Bson.BsonDocument,System.String[])">
            <summary>
            Применяет преобразование строковых значений в UUID-тип <see cref="T:MongoDB.Bson.BsonBinaryData"/>
            ко всем указанным полям документа, если это возможно.
            </summary>
            <param name="document">Документ <see cref="T:MongoDB.Bson.BsonDocument"/>.</param>
            <param name="fieldNames">Массив имен полей для обработки.</param>
        </member>
        <member name="T:Server.Extensions.JObjectExtension">
            <summary>
            Содержит расширения для работы с объектами <see cref="T:Newtonsoft.Json.Linq.JObject"/>.
            </summary>
        </member>
        <member name="M:Server.Extensions.JObjectExtension.GetValueSafe(Newtonsoft.Json.Linq.JObject,System.String)">
            <summary>
            Безопасно извлекает значение по указанному пути в структуре JSON.
            Если путь не существует или значение имеет другой тип, возвращает <c>null</c>.
            </summary>
            <param name="obj">Объект <see cref="T:Newtonsoft.Json.Linq.JObject"/>, из которого извлекается значение.</param>
            <param name="path">Путь к значению в формате JSONPath (например: "$.user.name")</param>
            <returns>Значение как строка, если оно существует и может быть преобразовано в строку; иначе <c>null</c>.</returns>
        </member>
        <member name="M:Server.Game03.PlayerManager.PushAllItems">
            <summary>
            Отправить пользователю все его предметы
            </summary>
        </member>
        <member name="T:Server.GameDataCache.IHeroCacheService">
            <summary>
            Интерфейс сервиса кэширования данных о героях.
            </summary>
        </member>
        <member name="P:Server.GameDataCache.IHeroCacheService.HeroesJson">
            <summary>
            JSON-строка со всеми героями.
            </summary>
        </member>
        <member name="M:Server.GameDataCache.IHeroCacheService.InitializeAsync(System.IServiceProvider)">
            <summary>
            Инициализирует кэш данных о героях.
            </summary>
            <param name="serviceProvider">Провайдер служб для получения зависимостей.</param>
        </member>
        <member name="T:Server.GameDataCache.HeroesCacheService">
            <summary>
            Сервис для кэширования данных о героях в формате JSON.
            </summary>
        </member>
        <member name="M:Server.GameDataCache.HeroesCacheService.#ctor(Microsoft.Extensions.Logging.ILogger{Server.GameDataCache.HeroesCacheService})">
            <summary>
            Сервис для кэширования данных о героях в формате JSON.
            </summary>
        </member>
        <member name="F:Server.GameDataCache.HeroesCacheService._logger">
            <summary>
            Логгер для записи событий сервиса.
            </summary>
        </member>
        <member name="F:Server.GameDataCache.HeroesCacheService._json">
            <summary>
            Кэшированная JSON-строка с данными о героях.
            </summary>
        </member>
        <member name="M:Server.GameDataCache.HeroesCacheService.InitializeAsync(System.IServiceProvider)">
            <summary>
            Инициализирует кэш, загружая данные о героях из базы данных.
            </summary>
            <param name="serviceProvider">Провайдер служб для создания scope и получения DbContext.</param>
            <exception cref="T:System.InvalidOperationException">
            Возникает при невозможности получить DbContext из serviceProvider.
            </exception>
        </member>
        <member name="P:Server.GameDataCache.HeroesCacheService.HeroesJson">
            <summary>
            Возвращает JSON-строку с данными о героях.
            </summary>
            <returns>JSON-строка со всеми героями.</returns>
            <exception cref="T:System.InvalidOperationException">
            Возникает, если кэш не был инициализирован.
            </exception>
        </member>
        <member name="M:Server.GF.IsHashFromEmpty(System.String)">
            <summary>
            Проверка получился ли hash из пустой строки
            </summary>
            <param name="hash256"></param>
            <returns></returns>
        </member>
        <member name="M:Server.GF.DelayWithOutDebug2000ms">
            <summary>
            Добавляет задержку 2000 миллисекунд если работает без отладчика.
            </summary>
            <returns></returns>
        </member>
        <member name="M:Server.GF.DelayWithOutDebug500">
            <summary>
            Добавляет задержку 2000 миллисекунд если работает без отладчика.
            </summary>
            <returns></returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.Admin_NS.AddItemController">
            <summary>
            
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Admin_NS.AddItemController.Main">
            <summary>
            
            </summary>
            <returns></returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.GeneralController">
            <summary>
            Контроллер с общими методами.
            </summary>
            <param name="heroCache"></param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.GeneralController.#ctor(Server.GameDataCache.IHeroCacheService)">
            <summary>
            Контроллер с общими методами.
            </summary>
            <param name="heroCache"></param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.GeneralController.ListAllHeroes">
            <summary>
            Возвращает в ответе список всех героев.
            </summary>
            <returns></returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.Http_Tests.TestController">
            <summary>
            
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Http_Tests.TestController.Main">
            <summary>
            
            </summary>
            <returns></returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.PingController">
            <summary>
            Контроллер для проверки доступности сервера путем отправки тестового сигнала (ping).
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.PingController.Get">
            <summary>
            Возвращает сообщение "Pong!" для подтверждения доступности сервера.
            </summary>
            <returns>JSON-ответ с полем <see cref="T:System.String"/> message, содержащее значение "Pong!".</returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController">
            <summary>
            Контроллер аутентификации пользователей. Обрабатывает процесс входа (логин) по email и паролю.
            При успешной проверке возвращает JWT-токен доступа.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.#ctor(Server_DB_Users.Repositories.UserRepository,Server.Jwt_NS.JwtService,Microsoft.Extensions.Logging.ILogger{Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController},Microsoft.Extensions.Caching.Memory.IMemoryCache,Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService)">
            <summary>
            Контроллер аутентификации пользователей. Обрабатывает процесс входа (логин) по email и паролю.
            При успешной проверке возвращает JWT-токен доступа.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.LockoutPeriod">
            <summary>
            Время блокировки учётной записи при превышении допустимого количества неудачных попыток входа.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.Main">
            <summary>
            Основной метод аутентификации: принимает email и пароль, проверяет учётные данные,
            при успехе возвращает JWT-токен. Доступ разрешён без авторизации.
            </summary>
            <returns>JWT-токен при успешной аутентификации или соответствующий код ошибки.</returns>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.BadRequestEmailRateLimited(System.String)">
            <summary>
            Возвращает ответ с кодом 429 (Too Many Requests), если пользователь временно заблокирован из-за множества попыток входа.
            </summary>
            <param name="email">Email пользователя, для которого проверяется блокировка.</param>
            <returns>Результат с кодом состояния 429 и данными о времени окончания блокировки.</returns>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.LoggingAuthentification(System.Boolean,System.Text.Json.Nodes.JsonObject,System.String,System.Nullable{System.Guid})">
            <summary>
            Асинхронно добавляет запись о попытке аутентификации в очередь фонового логгера.
            В случае ошибки записывает предупреждение в лог.
            </summary>
            <param name="authorizationSuccess">Флаг успешности авторизации.</param>
            <param name="obj">JSON-объект запроса (для аудита).</param>
            <param name="email">Email пользователя (если известен).</param>
            <param name="userId">Идентификатор пользователя (если известен).</param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.GetClientIpAddress">
            <summary>
            Определяет IP-адрес клиента из HTTP-запроса.
            </summary>
            <returns>IP-адрес в формате <see cref="T:NpgsqlTypes.NpgsqlInet"/> или null, если не удалось определить.</returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.LoginAttempt">
            <summary>
            Запись, представляющая данные о попытке входа: количество попыток и время окончания блокировки.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.LoginAttempt.#ctor(System.Int32,System.DateTimeOffset)">
            <summary>
            Запись, представляющая данные о попытке входа: количество попыток и время окончания блокировки.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.IncrementFailedLoginAttempt(System.String)">
            <summary>
            Увеличивает счётчик неудачных попыток входа для указанного email.
            Если счётчик достиг предела, пользователь будет временно заблокирован.
            </summary>
            <param name="email">Email пользователя.</param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.ResetLoginAttempts(System.String)">
            <summary>
            Сбрасывает счётчик попыток входа после успешного входа.
            </summary>
            <param name="email">Email пользователя.</param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.IsRateLimited(System.String)">
            <summary>
            Проверяет, превышено ли допустимое количество попыток входа для указанного email.
            </summary>
            <param name="email">Email пользователя.</param>
            <returns>True, если пользователь временно заблокирован, иначе — false.</returns>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.AuthenticationController.GetRemainingLockoutTime(System.String)">
            <summary>
            Определяет, сколько секунд осталось до окончания блокировки учётной записи.
            </summary>
            <param name="email">Email пользователя.</param>
            <returns>Количество секунд до разблокировки или 0, если блокировка завершена.</returns>
        </member>
        <member name="T:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService">
            <summary>
            Фоновый сервис для асинхронной записи логов аутентификации и информации об устройствах пользователей.
            Обрабатывает очередь логов с периодичностью и сохраняет данные в базу PostgreSQL.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.#ctor(Microsoft.Extensions.Logging.ILogger{Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService},System.IServiceProvider)">
            <summary>
            Фоновый сервис для асинхронной записи логов аутентификации и информации об устройствах пользователей.
            Обрабатывает очередь логов с периодичностью и сохраняет данные в базу PostgreSQL.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService._logger">
            <summary>
            Логгер для записи диагностических сообщений.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService._serviceProvider">
            <summary>
            Провайдер сервисов для создания scope-контекстов при работе с EF Core.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService._timer">
            <summary>
            Таймер для периодической обработки очереди логов.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService._queue">
            <summary>
            Потокобезопасная очередь логов, ожидающих сохранения в БД.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService._stoppingCts">
            <summary>
            Токен для отмены фоновых операций при остановке сервиса.
            </summary>
        </member>
        <member name="F:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.SPLIT">
            <summary>
            Разделитель полей при формировании строки для хеширования характеристик устройства.
            Используется для создания уникального идентификатора устройства.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.EnqueueLog(System.Boolean,System.Text.Json.Nodes.JsonObject,System.String,System.Nullable{System.Guid},System.Nullable{NpgsqlTypes.NpgsqlInet})">
            <summary>
            Добавляет запись о попытке аутентификации в очередь на фоновую обработку.
            Вызывается из контроллеров при входе/регистрации.
            </summary>
            <param name="authorizationSuccess">Успешна ли была попытка аутентификации.</param>
            <param name="obj">JSON-объект с информацией об устройстве (например, ОС, модель, GPU и т.д.).</param>
            <param name="email">Email пользователя, если известен.</param>
            <param name="userId">Идентификатор пользователя в системе, если авторизован.</param>
            <param name="ip">IP-адрес клиента.</param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.DoWork(System.Object)">
            <summary>
            Вызывается таймером каждые 5 секунд — запускает обработку накопленной партии логов.
            </summary>
            <param name="state">Не используется.</param>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.ProcessBatch">
            <summary>
            Извлекает пачку логов из очереди (до 100 записей) и асинхронно сохраняет в БД.
            Если очередь пуста — немедленно завершается.
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.WriteBatchToDatabase(System.Collections.Generic.List{Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.LogEntry})">
            <summary>
            Сохраняет пачку логов в базу данных с использованием транзакции.
            Для каждого лога:
            - Извлекает параметры устройства из JSON.
            - Формирует уникальный идентификатор устройства через SHA256-хеш.
            - Вставляет запись в таблицу устройств (если ещё не существует).
            - Добавляет запись в лог аутентификаций, ссылаясь на устройство.
            </summary>
            <param name="batch">Пачка логов для сохранения.</param>
            <exception cref="T:System.Exception">Любое исключение приведёт к записи в лог, но не остановит сервис.</exception>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.Dispose">
            <summary>
            Освобождает управляемые ресурсы (таймер, токен отмены).
            </summary>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.StartAsync(System.Threading.CancellationToken)">
            <summary>
            Запускает фоновый сервис при старте приложения.
            Настраивает таймер на немедленный старт и последующий запуск каждые 5 секунд.
            </summary>
            <param name="cancellationToken">Токен для отмены запуска.</param>
            <returns>Задача, завершаемая немедленно.</returns>
        </member>
        <member name="M:Server.Http_NS.Controllers_NS.Users_NS.BackgroundLoggerAuthentificationService.StopAsync(System.Threading.CancellationToken)">
            <summary>
            Останавливает фоновый сервис при завершении приложения.
            Пытается обработать оставшиеся логи в течение 5 секунд.
            При превышении времени — принудительно завершает с предупреждением.
            </summary>
            <param name="cancellationToken">Токен, сигнализирующий внешнее завершение приложения.</param>
            <returns>Задача, завершающаяся после попытки обработки остатка.</returns>
        </member>
        <member name="T:Server.Http_NS.Middleware_NS.ExceptionLoggingMiddleware">
            <summary>
            Middleware для глобального перехвата исключений и логирования в файл.
            </summary>
            <remarks>
            Конструктор.
            </remarks>
        </member>
        <member name="M:Server.Http_NS.Middleware_NS.ExceptionLoggingMiddleware.#ctor(Microsoft.AspNetCore.Http.RequestDelegate,Microsoft.Extensions.Logging.ILogger{Server.Http_NS.Middleware_NS.ExceptionLoggingMiddleware})">
            <summary>
            Middleware для глобального перехвата исключений и логирования в файл.
            </summary>
            <remarks>
            Конструктор.
            </remarks>
        </member>
        <member name="M:Server.Http_NS.Middleware_NS.ExceptionLoggingMiddleware.InvokeAsync(Microsoft.AspNetCore.Http.HttpContext)">
            <summary>
            Основной метод middleware.
            </summary>
        </member>
        <member name="T:Server.Jwt_NS.JwtOptions">
            <summary>
            
            </summary>
        </member>
        <member name="P:Server.Jwt_NS.JwtOptions.Issuer">
            <summary>Эмитент токена.</summary>
        </member>
        <member name="P:Server.Jwt_NS.JwtOptions.Audience">
            <summary>Аудитория токена.</summary>
        </member>
        <member name="P:Server.Jwt_NS.JwtOptions.Lifetime">
            <summary>Время жизни токена.</summary>
        </member>
        <member name="T:Server.Jwt_NS.JwtService">
            <summary>
            Сервис генерации и валидации JWT-токенов. Секретный ключ извлекается только из
            переменной окружения <c>JWT_SECRET</c>, что исключает хранение секретов в файлах.
            </summary>
        </member>
        <member name="M:Server.Jwt_NS.JwtService.#ctor(Microsoft.Extensions.Options.IOptions{Server.Jwt_NS.JwtOptions})">
            <summary>
            Создаёт экземпляр <see cref="T:Server.Jwt_NS.JwtService"/>, валидируя наличие и размер секретного ключа.
            </summary>
            <param name="options">Параметры JWT (Issuer, Audience, Lifetime), внедрённые через DI.</param>
            <exception cref="T:System.InvalidOperationException">Если переменная окружения <c>JWT_SECRET</c> отсутствует.</exception>
            <exception cref="T:System.ArgumentException">Если длина секрета меньше 32nbsp;байт.</exception>
        </member>
        <member name="M:Server.Jwt_NS.JwtService.GenerateToken(System.Guid,System.Collections.Generic.IEnumerable{System.Security.Claims.Claim})">
            <summary>
            Генерирует JWT-токен для указанного пользователя.
            </summary>
            <param name="userId">Идентификатор пользователя (claim <c>sub</c>).</param>
            <param name="additionalClaims">Необязательные дополнительные claims.</param>
            <returns>Строковое представление JWT.</returns>
        </member>
        <member name="M:Server.Jwt_NS.JwtService.ValidateToken(System.String)">
            <summary>
            Валидирует JWT-токен и возвращает <see cref="T:System.Security.Claims.ClaimsPrincipal"/> при успешной проверке.
            </summary>
            <param name="token">Строковое представление JWT.</param>
            <returns><see cref="T:System.Security.Claims.ClaimsPrincipal"/> с утверждениями пользователя.</returns>
            <exception cref="T:System.ArgumentException">Если токен пустой.</exception>
            <exception cref="T:Microsoft.IdentityModel.Tokens.SecurityTokenException">Если токен не прошёл проверку.</exception>
        </member>
        <member name="M:Server.Jwt_NS.JwtService.GetJwtSecret">
            <summary>
            
            </summary>
            <returns></returns>
        </member>
        <member name="T:Server.Program">
            <summary>
            Класс содержит точку входа приложения и настройки сервисов, аутентификации,
            middleware, маршрутов и баз данных.
            </summary>
        </member>
        <member name="M:Server.Program.Main(System.String[])">
            <summary>
            Точка входа в приложение. Выполняет настройку DI, БД, аутентификации,
            регистрацию сервисов и запускает сервер.
            </summary>
            <param name="args">Аргументы командной строки.</param>
        </member>
        <member name="T:Server.UserAuth_NS.OpenWebSocketController">
            <summary>
            Контроллер для аутентификации пользователей.
            </summary>
            <remarks>
            Конструктор контроллера.
            </remarks>
            <param name="configuration">Конфигурация приложения для получения секретного ключа и параметров JWT.</param>
        </member>
        <member name="M:Server.UserAuth_NS.OpenWebSocketController.#ctor">
            <summary>
            Контроллер для аутентификации пользователей.
            </summary>
            <remarks>
            Конструктор контроллера.
            </remarks>
            <param name="configuration">Конфигурация приложения для получения секретного ключа и параметров JWT.</param>
        </member>
        <member name="M:Server.UserAuth_NS.OpenWebSocketController.Login">
            <summary>
            Выполняет аутентификацию и возвращает JWT токен.
            </summary>
            <param name="request">Модель с именем пользователя и паролем.</param>
            <returns>JWT токен при успешной аутентификации или ошибка 401.</returns>
        </member>
        <member name="T:Server.Utilities.JsonObjectExtension">
            <summary>
            Расширение для работы с HTTP-запросами, предоставляющее методы для извлечения объекта JSON из тела запроса.
            </summary>
        </member>
        <member name="M:Server.Utilities.JsonObjectExtension.GetJsonObjectFromRequest(Microsoft.AspNetCore.Http.HttpRequest)">
            <summary>
            Асинхронно извлекает и парсит тело HTTP-запроса как JSON-объект.
            </summary>
            <param name="httpRequest">HTTP-запрос, из которого читается тело.</param>
            <returns>
            Экземпляр <see cref="T:System.Text.Json.Nodes.JsonObject"/>, если тело запроса содержит валидный JSON-объект; иначе — <c>null</c>.
            Возвращает <c>null</c>, если тело пустое, некорректно или не является объектом.
            </returns>
            <exception cref="T:System.ArgumentNullException">Возникает, если <paramref name="httpRequest"/> равен <c>null</c>.</exception>
        </member>
        <member name="M:Server.Utilities.JsonObjectExtension.GetString(System.Text.Json.Nodes.JsonObject,System.String,System.Boolean)">
            <summary>
            Извлекает строковое значение из <see cref="T:System.Text.Json.Nodes.JsonObject"/> по ключу без учёта регистра.
            При необходимости удаляет поле из объекта.
            </summary>
            <param name="obj">Объект JSON, из которого извлекается значение.</param>
            <param name="key">Ключ для поиска (без учёта регистра).</param>
            <param name="removeAfterSuccessGetting">Если <c>true</c>, поле будет удалено из объекта после извлечения.</param>
            <returns>Строковое значение или пустая строка, если ключ не найден или значение null.</returns>
        </member>
        <member name="M:Server.Utilities.JsonObjectExtension.GetStringN(System.Text.Json.Nodes.JsonObject,System.String,System.Int32)">
            <summary>
            Извлекает строковое значение из <see cref="T:System.Text.Json.Nodes.JsonObject"/> по указанному ключу без учета регистра.
            Если ключ не найден, возвращает <c>null</c>.
            Также поддерживает ограничение длины возвращаемой строки.
            </summary>
            <param name="obj">Объект JSON, из которого извлекается значение.</param>
            <param name="key">Ключ, по которому выполняется поиск (без учета регистра).</param>
            <param name="maxLength">Максимальная длина возвращаемой строки. Если значение больше, оно обрезается.
            Значение 0 или меньше означает отсутствие ограничения.</param>
            <returns>
            Строковое представление значения, обрезанное до <paramref name="maxLength"/>,
            или <c>null</c>, если ключ не найден или значение равно null.
            </returns>
        </member>
        <member name="M:Server.Utilities.JsonObjectExtension.GetIntegerN(System.Text.Json.Nodes.JsonObject,System.String)">
            <summary>
            Извлекает целочисленное значение из <see cref="T:System.Text.Json.Nodes.JsonObject"/> по указанному ключу без учета регистра.
            Если ключ не найден, значение равно null или не может быть преобразовано в int, возвращает <c>null</c>.
            </summary>
            <param name="obj">Объект JSON, из которого извлекается значение.</param>
            <param name="key">Ключ, по которому выполняется поиск (без учета регистра).</param>
            <returns>
            если преобразование успешно; иначе — <c>null</c>.
            </returns>
        </member>
        <member name="M:Server.Utilities.JsonObjectExtension.GetBoolN(System.Text.Json.Nodes.JsonObject,System.String)">
            <summary>
            Извлекает булево значение из <see cref="T:System.Text.Json.Nodes.JsonObject"/> по ключу без учёта регистра.
            Поддерживает значения: <c>true</c>, <c>false</c>, <c>1</c>, <c>0</c>, <c>"true"</c>, <c>"false"</c> (без учёта регистра).
            </summary>
            <param name="obj">JSON-объект, в котором выполняется поиск. Не должен быть <c>null</c>.</param>
            <param name="key">Ключ для поиска (без учёта регистра).</param>
            <returns>
            Булево значение или <c>null</c>, если ключ не найден, значение <c>null</c> или не удаётся интерпретировать.
            </returns>
        </member>
        <member name="T:Server.WebSocket_NS.WebSocketConnection">
            <summary>
            Представляет одно WebSocket подключение клиента.
            Обрабатывает прием и отправку сообщений, аутентификацию и управление жизненным циклом подключения.
            </summary>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.#ctor(System.Net.WebSockets.WebSocket,Microsoft.Extensions.Logging.ILogger{Server.WebSocket_NS.WebSocketConnection},Microsoft.Extensions.Configuration.IConfiguration,Server.WebSocket_NS.WebSocketConnectionHandler,Server_DB_UserData.MongoRepository,Server.Jwt_NS.JwtService)">
            <summary>
            Представляет одно WebSocket подключение клиента.
            Обрабатывает прием и отправку сообщений, аутентификацию и управление жизненным циклом подключения.
            </summary>
        </member>
        <member name="P:Server.WebSocket_NS.WebSocketConnection.Id">
            <summary>
            Уникальный идентификатор подключения.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._webSocket">
            <summary>
            WebSocket клиента для обмена сообщениями.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._logger">
            <summary>
            Логгер для записи событий подключения.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._receiveBufferSize">
            <summary>
            Размер буфера для приема сообщений из конфигурации.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._webSocketServer">
            <summary>
            Обработчик WebSocket соединений для управления подключениями.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._playerManager">
            <summary>
            Менеджер игроков для обработки игровых команд.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._jwtService">
            <summary>
            Сервис для работы с JWT токенами аутентификации.
            </summary>
        </member>
        <member name="F:Server.WebSocket_NS.WebSocketConnection._isAuthenticated">
            <summary>
            Флаг, указывающий на аутентификацию клиента.
            </summary>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.HandleAsync(System.Threading.CancellationToken)">
            <summary>
            Обрабатывает WebSocket подключение клиента.
            </summary>
            <param name="cancellationToken">Токен отмены для прерывания обработки.</param>
            <returns>Задача, представляющая асинхронную обработку подключения.</returns>
            <exception cref="T:System.OperationCanceledException">
            Возникает при отмене операции через cancellationToken.
            </exception>
            <exception cref="T:System.Net.WebSockets.WebSocketException">
            Возникает при ошибках WebSocket соединения.
            </exception>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.IsExpectedDisconnectException(System.Exception)">
            <summary>
            Проверяет, является ли исключение ожидаемым при разрыве соединения.
            </summary>
            <param name="ex">Исключение для проверки.</param>
            <returns>
            true - если исключение связано с нормальным разрывом соединения;
            false - если это неожиданная ошибка.
            </returns>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.SendMessageSafeAsync(System.String,System.Threading.CancellationToken)">
            <summary>
            Безопасно отправляет сообщение клиенту.
            </summary>
            <param name="message">Текст сообщения для отправки.</param>
            <param name="cancellationToken">Токен отмены операции отправки.</param>
            <returns>Задача, представляющая асинхронную отправку сообщения.</returns>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.CloseSocketAsync(System.Net.WebSockets.WebSocketCloseStatus,System.String,System.Threading.CancellationToken)">
            <summary>
            Корректно закрывает WebSocket соединение.
            </summary>
            <param name="closeStatus">Статус закрытия соединения.</param>
            <param name="statusDescription">Описание причины закрытия.</param>
            <param name="cancellationToken">Токен отмены операции закрытия.</param>
            <returns>Задача, представляющая асинхронное закрытие соединения.</returns>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnection.CleanupSocketAsync">
            <summary>
            Очищает ресурсы WebSocket соединения.
            </summary>
            <returns>Задача, представляющая асинхронную очистку ресурсов.</returns>
        </member>
        <member name="T:Server.WebSocket_NS.WebSocketConnectionHandler">
            <summary>
            Обработчик подключений WebSocket. Работает как Singleton-сервис и интегрирован 
            в пайплайн ASP.NET Core Middleware через app.Map().
            </summary>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnectionHandler.#ctor(Microsoft.Extensions.Logging.ILogger{Server.WebSocket_NS.WebSocketConnectionHandler},System.IServiceProvider,Microsoft.Extensions.Configuration.IConfiguration,Server_DB_UserData.MongoRepository,Server.Jwt_NS.JwtService)">
            <summary>
            Инициализирует новый экземпляр <see cref="T:Server.WebSocket_NS.WebSocketConnectionHandler"/>.
            </summary>
            <param name="logger">Сервис логирования для записи информации и ошибок.</param>
            <param name="serviceProvider">Поставщик зависимостей для разрешения сервисов.</param>
            <param name="configuration">Конфигурация приложения.</param>
            <param name="mongoRepository">Репозиторий для работы с MongoDB.</param>
            <param name="jwtService">JWT Сервис</param>
        </member>
        <member name="M:Server.WebSocket_NS.WebSocketConnectionHandler.ProcessKestrelWebSocketRequest(Microsoft.AspNetCore.Http.HttpContext,System.Threading.CancellationToken)">
            <summary>
            Вызывается при запросе открытия веб сокета от клиента через пайплайн ASP.NET Core.
            </summary>
            <param name="context">Контекст HTTP-запроса от Kestrel.</param>
            <param name="stoppingToken">Токен отмены.</param>
            <returns>Асинхронная задача обработки соединения.</returns>
            <exception cref="T:System.ArgumentNullException">Если контекст равен null.</exception>
        </member>
    </members>
</doc>
